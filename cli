import java.io.File;
import java.io.IOException;
import java.time.LocalDate;
import java.util.Scanner;

public class cli {
		private String usertype;
		private Scanner in;
		private Scanner userfind;
		static String[] usertypes= {"employee","human resources","admin"};
		 public cli()
		   {
		      in = new Scanner(System.in);
		   }
		 public void run()
		         throws IOException
		   {

		      boolean more = true;
		      
		      while (more)
		      { 
		         System.out.println("user name:");
		         String user = in.nextLine();
		         userfind = new Scanner(new File("../group/src/users.csv"));
		     		boolean done=false;
		     		while(userfind.hasNext()&& done!=true) {
		     			String input=userfind.nextLine();
		     			String[] parts=input.split(",");		
		     			if(user.equals(parts[0]))
		     					{ 	usertype=parts[1];
		     						System.out.printf("user:%s\nusertype:%s\n",user,usertype);
		     						done=true;
		     					}
		     				
		     		}
		     		if(this.usertype==null) {
		     			System.out.print("add new user?y/n");
		     			String answer = in.nextLine();
		     			if(answer.toUpperCase().equals("Y")) {
		     				System.out.print("user name:");
		     				String un = in.nextLine();
		     				System.out.println("user type 1)employee 2)human resources 3)admin");
		     				int ut = Integer.parseInt(in.nextLine());
		     				usertype=usertypes[ut-1];
		     				user u=new user(un,usertype);
		     				
		     			}
		     			else {System.out.print("exiting");
		     			more=false;}
		     		}
		     		  //usertypes= ["employee","human resources","admin"];
		     		if(usertype.equals("employee")) {
		     			//employeecli
		     			System.out.println("e");
		     			//see details
		     			
		     			//see pay slips
		     			//confirm changes
		     			more=false;
		     			
		     		}
		     		else if(usertype.equals("human resources")){
		     			//hr cli
		     			System.out.println("hr");
		     			//promote
		     			more=false;
		     		}
		     		else if(usertype.equals("admin")){
		     			//adin cli
		     			System.out.println("a");
		     			//add employee
		     			System.out.print("Add employee?(y/n)");
		     			
		     			more=false;
		     			
		     		}
		     			
		      else {System.out.print("failed");
		      }
		      }
		     	}
		      
		      

public static void main(String []args) throws IOException {
/*The application has three user types.
 *  An employee can log in to the system, see their details, and view their most recent or historical payslips.
 *  An admin user can log in and can add a new employee to the system. 
 *  A human resources user can log in to implement the promotion functionality for full-time staff. 
 *  In such cases the staff member should be asked to confirm the promotional changes being applied. 
 *  A command line interface (CLI) should be included to facilitate this interaction between users and the application. 
 *  The CLI should be included with the expectation that a Graphical User Interface (GUI) may be required in the future. 
 *  In other words the separation between the text-based user interface should be well-defined to allow a graphical user interface to be substituted easily. 
*/
	//check user type
	cli login = new cli();
    login.run();
	}
}

