import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.util.ArrayList;
import java.util.Scanner;

public class Overwrite {
	//misc methods
	private Scanner line;
	private PrintWriter w;
	public void overwrite_employee(employee e) throws IOException {
	ArrayList<String> temp=new ArrayList<String>();
		line = new Scanner(new File("../group/src/employees.csv"));
		temp.add(line.nextLine());
		while(line.hasNext()) {
			String i=line.nextLine();
			String[] s=i.split(",");
			if((s[0].toUpperCase()).equals(e.getName().toUpperCase())) {
			temp.add(e.toString());
			}
		
			else {
				
				temp.add(i);}
		}
		PrintWriter clear=new PrintWriter("../group/src/employees.csv");
		for(String x:temp) {
			PrintWriter writer=new PrintWriter(new FileWriter("../group/src/employees.csv",true));
			writer.println(x.toUpperCase());
			writer.close();
		}
		}
	/**adds an employee to the file either in parttime or fulltime*/
	public void writetolistofusers(String x,String csvlistname) throws IOException {
		//find a new line
		w=new PrintWriter(new FileWriter("../group/src/"+csvlistname+".csv",true));
		
		w.println(x);
		w.close();
		}
	//get choices of jc
	public ArrayList<String> getchoicesinjc() throws FileNotFoundException{
			line = new Scanner(new File("../group/src/payscale.csv"));
			ArrayList<String> choices=new ArrayList<String>();
			while(line.hasNext()) {
				String input=line.nextLine();
				if(input.split(",").length==1) {
					choices.add(input);
				}
					
			}
			return choices;
			//method end
		}
	
	
	public ArrayList<String> getchoicesinjtwithjc(String jc) throws FileNotFoundException{
		line = new Scanner(new File("../group/src/payscale.csv"));
		ArrayList<String> choices=new ArrayList<String>();
		while(line.hasNext()) {
			String input=line.nextLine();
			if(input.split(",").length==1&&input.equals(jc)) {
			
				input=line.nextLine();
				//System.out.println(1+" "+input);
				while(input.split(",").length>1) {
					//System.out.println(2+" "+input);
					
					String[] S=input.split(",");
					if (!choices.contains(S[0])&&S.length>1) {
						//System.out.println(3+" "+input);
						choices.add(S[0]);
						
				}input=line.nextLine();
			
				
		}
		}
		}
		return choices;
		//method end
	}
	
	public int getTopPayscale(String jobcatagory,String jobtitle) throws FileNotFoundException {
		line = new Scanner(new File("../group/src/payscale.csv"));
		boolean done=false;
		int topPayscale;
		//line.nextLine();
		while(line.hasNext())
		{
			String input=line.nextLine();
			if(input.equals(jobcatagory)) {
				while(line.hasNext()&&!done) {
					input=line.nextLine();
					String[] parts=input.split(",");
					if(jobtitle.equals(parts[0]) )
					{
					input=line.nextLine();
					return topPayscale=Integer.parseInt(parts[1]);
					}
				
				}
				}
		}
	
		return -1;
	}		
			
	
//end
}


